{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{816:function(_,v,t){\"use strict\";t.r(v);var r=t(42),n=Object(r.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":_.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"resultcsv-xaml\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#resultcsv-xaml\"}},[_._v(\"#\")]),_._v(\" ResultCSV.xaml\")]),_._v(\" \"),t(\"p\",[_._v(\"Staff Navigatorで出力した社会保険スタッフ情報ファイル、賃金台帳ファイルから通知用の社会保険加入アラートファイルを作成する\")]),_._v(\" \"),t(\"h2\",{attrs:{id:\"引数\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#引数\"}},[_._v(\"#\")]),_._v(\" 引数\")]),_._v(\" \"),t(\"table\",[t(\"thead\",[t(\"tr\",[t(\"th\",[_._v(\"引数名\")]),_._v(\" \"),t(\"th\",[_._v(\"説明\")]),_._v(\" \"),t(\"th\",[_._v(\"方向\")]),_._v(\" \"),t(\"th\",[_._v(\"型\")]),_._v(\" \"),t(\"th\",[_._v(\"備考\")])])]),_._v(\" \"),t(\"tbody\",[t(\"tr\",[t(\"td\",[_._v(\"in_staffCSVPath\")]),_._v(\" \"),t(\"td\",[_._v(\"社会保険スタッフ情報ファイルパス\")]),_._v(\" \"),t(\"td\",[_._v(\"入力\")]),_._v(\" \"),t(\"td\",[_._v(\"String\")]),_._v(\" \"),t(\"td\",[_._v(\"－\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"in_wareCSVPath\")]),_._v(\" \"),t(\"td\",[_._v(\"賃金台帳ファイルパス\")]),_._v(\" \"),t(\"td\",[_._v(\"入力\")]),_._v(\" \"),t(\"td\",[_._v(\"String\")]),_._v(\" \"),t(\"td\",[_._v(\"－\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"in_tmpPath\")]),_._v(\" \"),t(\"td\",[_._v(\"tmpフォルダパス\")]),_._v(\" \"),t(\"td\",[_._v(\"入力\")]),_._v(\" \"),t(\"td\",[_._v(\"String\")]),_._v(\" \"),t(\"td\",[_._v(\"－\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"in_monthX\")]),_._v(\" \"),t(\"td\",[_._v(\"月情報１\")]),_._v(\" \"),t(\"td\",[_._v(\"入力\")]),_._v(\" \"),t(\"td\",[_._v(\"String\")]),_._v(\" \"),t(\"td\",[_._v(\"処理日時の前々月\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"in_monthY\")]),_._v(\" \"),t(\"td\",[_._v(\"月情報２\")]),_._v(\" \"),t(\"td\",[_._v(\"入力\")]),_._v(\" \"),t(\"td\",[_._v(\"String\")]),_._v(\" \"),t(\"td\",[_._v(\"処理日時の前月\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"in_workingLimit\")]),_._v(\" \"),t(\"td\",[_._v(\"１ヶ月間の制限時間\")]),_._v(\" \"),t(\"td\",[_._v(\"入力\")]),_._v(\" \"),t(\"td\",[_._v(\"String\")]),_._v(\" \"),t(\"td\",[_._v(\"－\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"in_resultCSVPath\")]),_._v(\" \"),t(\"td\",[_._v(\"社会保険加入アラートファイルパス\")]),_._v(\" \"),t(\"td\",[_._v(\"入力\")]),_._v(\" \"),t(\"td\",[_._v(\"String\")]),_._v(\" \"),t(\"td\",[_._v(\"－\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"in_currentDatetime\")]),_._v(\" \"),t(\"td\",[_._v(\"処理日時\")]),_._v(\" \"),t(\"td\",[_._v(\"入力\")]),_._v(\" \"),t(\"td\",[_._v(\"DateTime\")]),_._v(\" \"),t(\"td\",[_._v(\"－\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"out_errorMessage\")]),_._v(\" \"),t(\"td\",[_._v(\"エラーメッセージ\")]),_._v(\" \"),t(\"td\",[_._v(\"出力\")]),_._v(\" \"),t(\"td\",[_._v(\"String\")]),_._v(\" \"),t(\"td\",[_._v(\"－\")])]),_._v(\" \"),t(\"tr\",[t(\"td\",[_._v(\"out_isSucces\")]),_._v(\" \"),t(\"td\",[_._v(\"処理結果フラグ\")]),_._v(\" \"),t(\"td\",[_._v(\"出力\")]),_._v(\" \"),t(\"td\",[_._v(\"Boolean\")]),_._v(\" \"),t(\"td\",[_._v(\"－\")])])])]),_._v(\" \"),t(\"br\"),_._v(\" \"),t(\"h2\",{attrs:{id:\"処理内容\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#処理内容\"}},[_._v(\"#\")]),_._v(\" 処理内容\")]),_._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[_._v(\"対象のスタッフ番号を取得する\"),t(\"br\"),_._v(\"\\n1-1. 社会保険スタッフ情報ファイルパス（引数：in_staffCSVPath）と\"),t(\"br\"),_._v(\"\\n　賃金台帳ファイルパス（引数：in_wareCSVPath）に存在するスタッフ番号を取得する\"),t(\"br\"),_._v(\"\\n　※同一スタッフ番号が複数存在する場合は１つにまとめる\")]),_._v(\" \"),t(\"p\",[_._v(\"1-2. スタッフ番号の存在を確認する\"),t(\"br\"),_._v(\"\\n　1-2-1. 存在する場合\"),t(\"br\"),_._v(\"\\n　　上記1-1の対象スタッフを以下の一時ファイルに出力する\"),t(\"br\"),_._v(\"\\n　　tmpフォルダパス（引数：in_tmpPath）＋\"),t(\"br\"),_._v('\\n　　\"\\\\StaffNo_\"＋処理日時（引数：in_currentDatetime）yyyyMMdd_HHmmss形式＋\".csv\"'),t(\"br\"),_._v(\"\\n　　例）C:\\\\diprpa\\\\HRRA_007a_社会保険加入アラート通知\\\\tmp\\\\StaffNo_20201010_101010.csv\"),t(\"br\"),_._v(\"\\n　　処理結果フラグ（引数：out_isSucces）に「True」を出力する\"),t(\"br\"),_._v(\"\\n　1-2-2. 存在しない場合\"),t(\"br\"),_._v(\"\\n　　処理結果フラグ（引数：out_isSucces）に「False」を出力する\"),t(\"br\"),_._v(\"\\n　1-2-3. 例外（Exception）が発生した場合\"),t(\"br\"),_._v(\"\\n　　処理結果フラグ（引数：out_isSucces）に「False」、\"),t(\"br\"),_._v(\"\\n　　エラーメッセージ（引数：out_errorMessage）にExceptionメッセージを出力して、処理を終了する\")])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"splitExportフォルダの存在を確認する\"),t(\"br\"),_._v(\"\\n2-1. 存在しない場合は作成する\"),t(\"br\"),_._v('\\n　splitExportフォルダパス：tmpフォルダパス（引数：in_tmpPath）＋\"\\\\splitExport\"'),t(\"br\"),_._v(\"\\n　例）C:\\\\diprpa\\\\HRRA_007a_社会保険加入アラート通知\\\\tmp\\\\splitExport\")]),_._v(\" \"),t(\"p\",[_._v(\"2-2. 例外（Exception）が発生した場合\"),t(\"br\"),_._v(\"\\n　処理結果フラグ（引数：out_isSucces）に「False」を出力して、処理を終了する\")])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"ファイルを分割する\"),t(\"br\"),_._v(\"\\n3-1. 上記1-2-1.の一時ファイルを500件ごとで以下のファイルに分割する\"),t(\"br\"),_._v(\"\\n　上記2-1のsplitExportフォルダパス＋\"),t(\"br\"),_._v('\\n　\"\\\\StaffNo_\"＋処理日時（引数：in_currentDatetime）yyyyMMdd_HHmmss形式＋\"_\"＋（1～の連番）＋\".csv\"'),t(\"br\"),_._v(\"\\n　例）C:\\\\diprpa\\\\HRRA_007a_社会保険加入アラート通知\\\\tmp\\\\splitExport\\\\StaffNo_20201010_101010_1.csv\")]),_._v(\" \"),t(\"p\",[_._v(\"3-2. 上記3-1の分割ファイルごとにスタッフ番号が\"),t(\"br\"),_._v(\"\\n　一致する社会保険スタッフ情報ファイルパス（引数：in_staffCSVPath）のデータで以下のファイルを作成する\"),t(\"br\"),_._v(\"\\n　上記2-1のsplitExportフォルダパス＋\"),t(\"br\"),_._v('\\n　\"\\\\Staff_\"＋処理日時（引数：in_currentDatetime）yyyyMMdd_HHmmss形式＋\"_\"＋（上記3-1の分割ファイルの連番と同じ）＋\".csv\"'),t(\"br\"),_._v(\"\\n　例）C:\\\\diprpa\\\\HRRA_007a_社会保険加入アラート通知\\\\tmp\\\\splitExport\\\\Staff_20201010_101010_1.csv\")]),_._v(\" \"),t(\"p\",[_._v(\"3-3. 上記3-1の分割ファイルごとにスタッフ番号が\"),t(\"br\"),_._v(\"\\n　一致する賃金台帳ファイルパス（引数：in_wareCSVPath）のデータで以下のファイルを作成する\"),t(\"br\"),_._v(\"\\n　上記2-1のsplitExportフォルダパス＋\"),t(\"br\"),_._v('\\n　\"\\\\Ware_\"＋処理日時（引数：in_currentDatetime）yyyyMMdd_HHmmss形式＋\"_\"＋（上記3-1の分割ファイルの連番と同じ）＋\".csv\"'),t(\"br\"),_._v(\"\\n　例）C:\\\\diprpa\\\\HRRA_007a_社会保険加入アラート通知\\\\tmp\\\\splitExport\\\\Ware_20201010_101010_1.csv\")]),_._v(\" \"),t(\"p\",[_._v(\"3-4. 例外（Exception）が発生した場合\"),t(\"br\"),_._v(\"\\n　処理結果フラグ（引数：out_isSucces）に「False」、\"),t(\"br\"),_._v(\"\\n　エラーメッセージ（引数：out_errorMessage）にExceptionメッセージを出力して、処理を終了する\")])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"社会保険加入アラートファイルを作成する\"),t(\"br\"),_._v(\"\\n　上記3-2、上記3-3で作成したファイル数分、実施する\")]),_._v(\" \"),t(\"p\",[_._v(\"4-1. 上記3-2で作成した社会保険スタッフ情報ファイル(a)と上記3-3で作成した賃金台帳ファイル(b)の\"),t(\"br\"),_._v(\"\\n　同一スタッフ番号レコードから以下の内容でデータテーブルに出力する\"),t(\"br\"),_._v(\"\\n　　データテーブルの出力内容\"),t(\"br\"),_._v(\"\\n　　　・スタッフ番号 ← (a)スタッフ番号\"),t(\"br\"),_._v(\"\\n　　　・スタッフ氏名 ← (b)スタッフ氏名\"),t(\"br\"),_._v(\"\\n　　　・年齢 ← (a)年齢\"),t(\"br\"),_._v(\"\\n　　　・対象年 ← (b)対象年\"),t(\"br\"),_._v(\"\\n　　　・対象月 ← (b)対象月\"),t(\"br\"),_._v(\"\\n　　　・退職状況 ← 空\"),t(\"br\"),_._v(\"\\n　　　・退職日 ← (a)退職日\"),t(\"br\"),_._v(\"\\n　　　・厚生年金加入状況 ← (a)厚生年金加入状況\"),t(\"br\"),_._v(\"\\n　　　・健康保険加入状況 ← (a)健康保険加入状況\"),t(\"br\"),_._v(\"\\n　　　・介護保険加入状況 ← (a)介護保険\"),t(\"br\"),_._v(\"\\n　　　・雇用保険加入状況 ← (a)雇用保険加入状況\"),t(\"br\"),_._v(\"\\n　　　・出勤日数 ← (b)出勤日数\"),t(\"br\"),_._v(\"\\n　　　・総勤務時間 ← 基本時間(b)＋普通残時間(b)＋深夜時間(b)＋深夜残時間(b)＋休出時間(b)＋その他時間外\")]),_._v(\" \"),t(\"p\",[_._v(\"4-2. 同一対象月で合算した出勤日数、総勤務時間を取得する\"),t(\"br\"),_._v(\"\\n　上記4-1のデータテーブルをスタッフ番号、対象月でグループ化して、出勤時間、総勤務時間に合算した値を出力する\")]),_._v(\" \"),t(\"p\",[_._v(\"4-3. 上記4-2のデータテーブルで、同一スタッフ番号で２レコード存在するスタッフのみに限定する\"),t(\"br\"),_._v(\"\\n　限定後のデータテーブルが、0件の場合、次のファイルを4-1から処理する\")]),_._v(\" \"),t(\"p\",[_._v(\"4-4. 退職状況を取得する\"),t(\"br\"),_._v(\"\\n　上記4-3のデータテーブルで以下の条件のレコードに対して、退職状況に「退職済」を出力する\"),t(\"br\"),_._v(\"\\n　条件\"),t(\"br\"),_._v(\"\\n　　退職日が存在するレコードの退職日が\"),t(\"br\"),_._v(\"\\n　　処理日時（引数：in_currentDatetime）yyyy/MM/dd形式の日付より過去日\")]),_._v(\" \"),t(\"p\",[_._v(\"4-5. ２ヶ月間の保険加入状況を確認して、社会保険スタッフ情報ファイルへ出力する対象スタッフのみに限定する\"),t(\"br\"),_._v(\"\\n　上記4-4のデータテーブルで、同一スタッフ番号の２レコード（すべて）が以下の条件を満たすデータのみにする\"),t(\"br\"),_._v(\"\\n　条件\"),t(\"br\"),_._v(\"\\n　　退職状況が「退職済」の場合\"),t(\"br\"),_._v(\"\\n　　　厚生年金加入状況が、「加入済」、または、\"),t(\"br\"),_._v(\"\\n　　　健康保険加入状況が、「加入済」、または、\"),t(\"br\"),_._v(\"\\n　　　介護保険加入状況が、「対象」、または、\"),t(\"br\"),_._v(\"\\n　　　雇用保険加入状況が、「加入済」\"),t(\"br\"),_._v(\"\\n　　退職状況が「退職済」以外の場合\"),t(\"br\"),_._v(\"\\n　　　総勤務時間が、１ヶ月間の制限時間（引数：in_workingLimit）以上、かつ、\"),t(\"br\"),_._v(\"\\n　　　（厚生年金加入状況が、「加入済」以外、または、\"),t(\"br\"),_._v(\"\\n　　　　健康保険加入状況が、「加入済」以外、または、\"),t(\"br\"),_._v(\"\\n　　　　介護保険加入状況が、「対象」以外、または、\"),t(\"br\"),_._v(\"\\n　　　　雇用保険加入状況が、「加入済」以外）\"),t(\"br\"),_._v(\"\\n　限定後のデータテーブルが、0件の場合、次のファイルを4-1から処理する\")]),_._v(\" \"),t(\"p\",[_._v(\"4-6. 上記4-5のデータテーブルの同一スタッフ番号レコードを以下の内容で社会保険加入アラートのデータテーブルに追加出力する\"),t(\"br\"),_._v(\"\\n　データテーブルの出力内容\"),t(\"br\"),_._v(\"\\n　　・スタッフ番号 ← 1レコード目のスタッフ番号\"),t(\"br\"),_._v(\"\\n　　・スタッフ氏名 ← 1レコード目のスタッフ氏名\"),t(\"br\"),_._v(\"\\n　　・年齢 ← 1レコード目の年齢\"),t(\"br\"),_._v(\"\\n　　・対象月 ← 2レコード目の対象月\"),t(\"br\"),_._v(\"\\n　　・退職状況 ← 2レコード目の退職状況\"),t(\"br\"),_._v(\"\\n　　・退職日 ← 2レコード目の退職日\"),t(\"br\"),_._v(\"\\n　　・厚生年金加入状況 ← 2レコード目の厚生年金加入状況\"),t(\"br\"),_._v(\"\\n　　・健康保険加入状況 ← 2レコード目の健康保険加入状況\"),t(\"br\"),_._v(\"\\n　　・介護保険加入状況 ← 2レコード目の介護保険加入状況\"),t(\"br\"),_._v(\"\\n　　・雇用保険加入状況 ← 2レコード目の雇用保険加入状況\"),t(\"br\"),_._v(\"\\n　　・X月勤務日数（※１） ← 1レコード目の出勤日数\"),t(\"br\"),_._v(\"\\n　　・X月総勤務時間（※１） ← 1レコード目の総勤務時間\"),t(\"br\"),_._v(\"\\n　　・Y月勤務日数（※１） ← 2レコード目の出勤日数\"),t(\"br\"),_._v(\"\\n　　・Y月総勤務時間（※１） ← 2レコード目の総勤務時間\"),t(\"br\"),_._v(\"\\n　　（※１）列タイトルの「X」を月情報１（引数：in_monthX）の値に置き換える\"),t(\"br\"),_._v(\"\\n　　　　　　列タイトルの「Y」を月情報２（引数：in_monthY）の値に置き換える\"),t(\"br\"),_._v(\"\\n　次のファイルがある場合、4-1から処理する\"),t(\"br\"),_._v(\"\\n　次のファイルがない場合、4-7を実施する\")]),_._v(\" \"),t(\"p\",[_._v(\"4-7. 社会保険加入アラートファイルを作成する\"),t(\"br\"),_._v(\"\\n　上記4-6のデータテーブルが、0件以外の場合、\"),t(\"br\"),_._v(\"\\n　社会保険加入アラートファイルパス（引数：in_resultCSVPath）で、ファイルを作成する\")]),_._v(\" \"),t(\"p\",[_._v(\"4-8. 例外（Exception）が発生した場合\"),t(\"br\"),_._v(\"\\n　処理結果フラグ（引数：out_isSucces）に「False」、\"),t(\"br\"),_._v(\"\\n　エラーメッセージ（引数：out_errorMessage）にExceptionメッセージを出力して、処理を終了する\")])])]),_._v(\" \"),t(\"br\")])}),[],!1,null,null,null);v.default=n.exports}}]);","extractedComments":[]}